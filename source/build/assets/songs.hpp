#pragma once

#include <core/types.hpp>
#include <core/list.hpp>
#include <core/buffer.hpp>
#include <core/string.hpp>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct Song
{
	String path;
	String name;

	byte *sampleData;
	usize sampleDataSize;
	usize sampleDataOffsetBytes;
	u8 numChannels;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct Songs
{
	void make_new( const Song &sound );
	void gather( const char *path, const bool recurse = true );
	void load( const char *path );
	void write();

	Song &operator[]( const u32 songID ) { return songs[songID]; }

	List<Song> songs;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////